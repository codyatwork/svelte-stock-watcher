import{ai as T,aj as m,b as C,_ as k,y as W,ak as Y,al as j,i as B,L as x,q as F,am as $,r as w,an as O,ao as H,ap as S,K as g,J as L,C as _,D as q,aq as M,ar as D,v as z,as as J,at as K,au as G,av as Q,aw as U,ax as X,z as Z,ab as ee,d as te,x as ae,ae as re}from"./W7Mj_bqq.js";const ne=["touchstart","touchmove"];function ie(t){return ne.includes(t)}function se(t){var e=C,r=k;T(null),m(null);try{return t()}finally{T(e),m(r)}}const oe=new Set,A=new Set;function ue(t,e,r,i={}){function s(a){if(i.capture||E.call(e,a),!a.cancelBubble)return se(()=>r?.call(this,a))}return t.startsWith("pointer")||t.startsWith("touch")||t==="wheel"?Y(()=>{e.addEventListener(t,s,i)}):e.addEventListener(t,s,i),s}function ce(t,e,r,i,s){var a={capture:i,passive:s},l=ue(t,e,r,a);(e===document.body||e===window||e===document||e instanceof HTMLMediaElement)&&W(()=>{e.removeEventListener(t,l,a)})}function E(t){var e=this,r=e.ownerDocument,i=t.type,s=t.composedPath?.()||[],a=s[0]||t.target,l=0,h=t.__root;if(h){var f=s.indexOf(h);if(f!==-1&&(e===document||e===window)){t.__root=e;return}var v=s.indexOf(e);if(v===-1)return;f<=v&&(l=f)}if(a=s[l]||t.target,a!==e){j(t,"currentTarget",{configurable:!0,get(){return a||r}});var N=C,d=k;T(null),m(null);try{for(var n,o=[];a!==null;){var y=a.assignedSlot||a.parentNode||a.host||null;try{var c=a["__"+i];if(c!=null&&(!a.disabled||t.target===a))if(B(c)){var[V,...P]=c;V.apply(a,[t,...P])}else c.call(a,t)}catch(b){n?o.push(b):n=b}if(t.cancelBubble||y===e||y===null)break;a=y}if(n){for(let b of o)queueMicrotask(()=>{throw b});throw n}}finally{t.__root=e,delete t.currentTarget,T(N),m(d)}}}let u;function le(){u=void 0}function _e(t){let e=null,r=w;var i;if(w){for(e=_,u===void 0&&(u=q(document.head));u!==null&&(u.nodeType!==O||u.data!==H);)u=S(u);u===null?g(!1):u=L(S(u))}w||(i=document.head.appendChild(x()));try{F(()=>t(i),$)}finally{r&&(g(!0),u=_,L(e))}}function he(t,e){var r=e==null?"":typeof e=="object"?e+"":e;r!==(t.__t??=t.nodeValue)&&(t.__t=r,t.nodeValue=r+"")}function de(t,e){return I(t,e)}function ve(t,e){M(),e.intro=e.intro??!1;const r=e.target,i=w,s=_;try{for(var a=q(r);a&&(a.nodeType!==O||a.data!==H);)a=S(a);if(!a)throw D;g(!0),L(a),z();const l=I(t,{...e,anchor:a});if(_===null||_.nodeType!==O||_.data!==J)throw K(),D;return g(!1),l}catch(l){if(l===D)return e.recover===!1&&G(),M(),Q(r),g(!1),de(t,e);throw l}finally{g(i),L(s),le()}}const p=new Map;function I(t,{target:e,anchor:r,props:i={},events:s,context:a,intro:l=!0}){M();var h=new Set,f=d=>{for(var n=0;n<d.length;n++){var o=d[n];if(!h.has(o)){h.add(o);var y=ie(o);e.addEventListener(o,E,{passive:y});var c=p.get(o);c===void 0?(document.addEventListener(o,E,{passive:y}),p.set(o,1)):p.set(o,c+1)}}};f(U(oe)),A.add(f);var v=void 0,N=X(()=>{var d=r??e.appendChild(x());return Z(()=>{if(a){ee({});var n=te;n.c=a}s&&(i.$$events=s),w&&ae(d,null),v=t(d,i)||{},w&&(k.nodes_end=_),a&&re()}),()=>{for(var n of h){e.removeEventListener(n,E);var o=p.get(n);--o===0?(document.removeEventListener(n,E),p.delete(n)):p.set(n,o)}A.delete(f),d!==r&&d.parentNode?.removeChild(d)}});return R.set(v,N),v}let R=new WeakMap;function ye(t,e){const r=R.get(t);return r?(R.delete(t),r(e)):Promise.resolve()}export{_e as a,ce as e,ve as h,de as m,he as s,ye as u};
